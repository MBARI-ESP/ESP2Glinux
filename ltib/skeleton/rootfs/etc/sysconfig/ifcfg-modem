IFNAME=ppp8
serialPort=/dev/modem
VPN=$ESPshore/espvpn   #server IP / VPN interface

isp=verizon  #specify verizon, usmobile, ting, or att (for t-mobile or at&t)

ifPrep() {  #specify ip address of vpn server/vpn iface name
  [ "$serialPort" ] && {
    stty -F $serialPort 2>/dev/null >&2 || { #serial link has completely failed
      /etc/ppp/reset-modem && sleep 20
      stty -F $serialPort 2>/dev/null >&2 || return $?  #if failed after reset
    }
  }
  pppd call $isp unit ${IFNAME#ppp} $serialPort ipparam $VPN
}

hosts() {    #add lines before EOS
  cat <<EOS
$(netIfIP $IFNAME $(hostname)-$IFNAME $(hostname)-$isp)
$ESPshore ESPshore
EOS
}

pppDown() {
  ckpid=`cat /var/run/inadyn.pid 2>/dev/null` &&
    kill -CONT $ckpid
}
