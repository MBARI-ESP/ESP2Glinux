DEVICE=eth0
AUTOSTART=yes
BOOTPROTO="dhcp-b -s /usr/share/udhcpc/aliases.script"   #dhcp in background
DHCPNAME=`cat /etc/HOSTNAME`

IPADDR=192.168.0.100   #use this configuration if dhcp fails
GATEWAY=192.168.0.1   
BROADCAST=192.168.0.255
NETMASK=255.255.255.0
unset resolv_conf #may be set to a shell function to write resolv.conf to stdout

shortName=`echo $DCHPNAME | cut -d. -f1`
[ "$shortName" = "$DHCPNAME" ] && unset shortName

hosts() {
  cat <<EOS #add IP addresses for LAN neighbors to this table
127.0.0.1   localhost
$IPADDR  $DHCPNAME $shortName
192.168.0.101  ESPbuoy	#default mooring IP if no DHCP
EOS
}
NSprepCmd="hosts > $HOSTS && killall -q pppd"  #run after interface comes up
